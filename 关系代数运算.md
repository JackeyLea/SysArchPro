## 传统的集合运算

### 交/$\cap$/Union

取两个集合中重复部分

表R

| A | B | C |
| - | - | - |
| $a_1$ | $b_1$ | $c_1$
| $a_1$ | $b_2$ | $c_2$
| $a_2$ | $b_2$ | $c_1$

表S

| A | B | C |
| - | - | - |
| $a_1$ | $b_2$ | $c_2$
| $a_1$ | $b_3$ | $c_2$
| $a_2$ | $b_2$ | $c_1$

R $\cap$ S

| A | B | C |
| - | - | - |
| $a_1$ | $b_2$ | $c_2$
| $a_2$ | $b_2$ | $c_1$

### 并/$\cup$/Intersection

取两个合集中所有部分且不重复。

表R

| A | B | C |
| - | - | - |
| $a_1$ | $b_1$ | $c_1$
| $a_1$ | $b_2$ | $c_2$
| $a_2$ | $b_2$ | $c_1$

表S

| A | B | C |
| - | - | - |
| $a_1$ | $b_2$ | $c_2$
| $a_1$ | $b_3$ | $c_2$
| $a_2$ | $b_2$ | $c_1$

R $\cup$ S

| A | B | C |
| - | - | - |
| $a_1$ | $b_1$ | $c_1$
| $a_1$ | $b_2$ | $c_2$
| $a_2$ | $b_2$ | $c_1$
| $a_1$ | $b_3$ | $c_2$

### 差/-/Difference

R - S R中有而S中没有的

表R

| A | B | C |
| - | - | - |
| $a_1$ | $b_1$ | $c_1$
| $a_1$ | $b_2$ | $c_2$
| $a_2$ | $b_2$ | $c_1$

表S

| A | B | C |
| - | - | - |
| $a_1$ | $b_2$ | $c_2$
| $a_1$ | $b_3$ | $c_2$
| $a_2$ | $b_2$ | $c_1$

R - S

| A | B | C |
| - | - | - |
| $a_1$ | $b_1$ | $c_1$

### 笛卡尔积/$\times$/Cartesian Product

集合R 与 集合S的每个元组进行连接

表R

| A | B | C |
| - | - | - |
| $a_1$ | $b_1$ | $c_1$
| $a_1$ | $b_2$ | $c_2$
| $a_2$ | $b_2$ | $c_1$

表S

| A | B | C |
| - | - | - |
| $a_1$ | $b_2$ | $c_2$
| $a_1$ | $b_3$ | $c_2$
| $a_2$ | $b_2$ | $c_1$

R $\times$ S

| R.A | R.B | R.C | S.A | S.B | S.C
| - | - | - | - | - | - |
| $a_1$ | $b_1$ | $c_1$ | $a_1$ | $b_2$ | $c_2$ |
| $a_1$ | $b_1$ | $c_1$ | $a_1$ | $b_3$ | $c_2$ |
| $a_1$ | $b_1$ | $c_1$ | $a_2$ | $b_2$ | $c_1$ |
| $a_1$ | $b_2$ | $c_2$ | $a_1$ | $b_2$ | $c_2$ |
| $a_1$ | $b_2$ | $c_2$ | $a_1$ | $b_3$ | $c_2$ |
| $a_1$ | $b_2$ | $c_2$ | $a_2$ | $b_2$ | $c_1$ |
| $a_2$ | $b_2$ | $c_1$ | $a_1$ | $b_2$ | $c_2$ |
| $a_2$ | $b_2$ | $c_1$ | $a_1$ | $b_3$ | $c_2$ |
| $a_2$ | $b_2$ | $c_1$ | $a_2$ | $b_2$ | $c_1$ |

## 专门的关系运算

### 选择/$\sigma$/Selection

选择就是对表在水平方向上，筛选出一定符合条件的元组，然后组成新的关系

表R

| A1 | A2 | A3 |
| - | - | - |
| a | a | 10
| a | d | -4
| f | b | 5

$\sigma_{A2="a" \bigvee A2="b"}(R)$

从R中选择A2为a或者b的元组

| A1 | A2 | A3 |
| - | - | - |
| a | a | 10
| f | b | 5

### 投影/$\Pi$/Projection

大写的$\pi$

投影就是对表在垂直方向上，对列进行筛选。

表R

| A1 | A2 | A3 |
| - | - | - |
| a | b | c
| a | d | c
| f | b | c

$\Pi_{A2,A3}(R)$

从R中对A1和A3列进行投影，如果投影中有重复元组就去掉

| A1 | A3 |
| - | - |
| a | c
| f | c

### 连接/$\bowtie$/Join

连接就是根据给定的条件，从两个已知的关系R和S的笛卡尔集中，选取满足连接条件的若干元组，组成一个新的关系

表R

| A | B | C
| - | - | - |
| $a_1$ | $b_1$ | 5
| $a_1$ | $b_2$ | 6
| $a_2$ | $b_3$ | 7
| $a_2$ | $b_4$ | 12

表S

| B | E |
| - | - |
| $b_1$ | 3
| $b_2$ | 7
| $b_3$ | 10
| $b_3$ | 2
| $b_5$ | 2

#### 内连接

##### 等值连接

选取满足条件的元组组成新关系

##### 条件连接

选取满足等值条件的元组组成的关系

##### 自然连接/Natural Join
($\bowtie$)

也是等值连接，只不过它是选取满足公共属性满足等值的元组，组成关系

表R

| A|B|C|
|-|-|-|
|a|b|c
|b|a|d
|c|d|e
|d|f|g

表S
| A|C|D
|-|-|-
| a|c|d
|d|f|g
|b|d|g

R $\bowtie$ S

| A|B|C|D
|-|-|-|-
|a|b|c|d
|b|a|d|g

#### 外连接

##### 左外连接/Left Outer Join/$\ltimes$

##### 右外连接/Right Outer Join/$\rtimes$

##### 全外连接/Full Outer Join/$\times$/笛卡尔积

### 除($\div$)
Divide